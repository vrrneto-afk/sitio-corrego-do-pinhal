<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Vacas</title>
  <style>
    body { font-family: Arial; margin:0; background:#f5f5f5; }
    header { text-align:center; padding:20px; font-size:26px; }
    nav { background:#7a1f2b; padding:10px; text-align:center; }
    nav a, nav button {
      color:white; margin:0 10px; text-decoration:none;
      background:none; border:none; font-size:16px; cursor:pointer;
    }
    main { padding:20px; }
    table { width:100%; border-collapse:collapse; background:white; }
    th, td { border:1px solid #ccc; padding:8px; text-align:center; }
    th { cursor:pointer; background:#eee; }
    .admin-box { margin-bottom:15px; }
  </style>
</head>
<body>

<header>Sítio Córrego do Pinhal</header>

<nav>
  <a href="index.html">Início</a>
  <a href="vacas.html">Vacas</a>
  <a href="historico.html">Histórico</a>
  <a href="bezerros.html">Bezerros</a>
  <a href="vacinas.html">Vacinas</a>
  <a href="animais.html">Animais</a>
  <span id="menu-crias"></span>
  <span id="menu-admin"></span>
</nav>

<main>
  <h2>Vacas</h2>

  <div id="admin-actions" class="admin-box"></div>

  <table id="tabela">
    <thead>
      <tr>
        <th onclick="ordenar(0)">Nome</th>
        <th onclick="ordenar(1)">Raça</th>
        <th onclick="ordenar(2)">Touro</th>
        <th onclick="ordenarData(3)">Panhou cria</th>
        <th onclick="ordenarData(4)">Cria prevista</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>BARONESA</td><td>GIROLANDO</td><td>BANGUELA</td>
        <td>22/02/2025</td><td>22/11/2025</td>
      </tr>
      <tr>
        <td>BARQUINHA</td><td>JERSOLANDO</td><td>BANGUELA</td>
        <td>12/03/2025</td><td>12/12/2025</td>
      </tr>
    </tbody>
  </table>
</main>

<script>
  function isAdmin(){ return localStorage.getItem("isAdmin")==="true"; }

  function loginAdmin(){
    const senha = prompt("Senha ADM:");
    if(senha==="1234"){ localStorage.setItem("isAdmin","true"); location.reload(); }
    else alert("Senha incorreta");
  }

  function logoutAdmin(){
    localStorage.removeItem("isAdmin"); location.reload();
  }

  if(isAdmin()){
    document.getElementById("menu-crias").innerHTML =
      `<a href="crias.html">Crias</a>`;
    document.getElementById("menu-admin").innerHTML =
      `<button onclick="logoutAdmin()">Sair</button>`;
    document.getElementById("admin-actions").innerHTML =
      `<button onclick="alert('Adicionar em breve')">Adicionar</button>
       <button onclick="alert('Editar em breve')">Editar</button>
       <button onclick="alert('Excluir em breve')">Excluir</button>`;
  } else {
    document.getElementById("menu-admin").innerHTML =
      `<button onclick="loginAdmin()">Administrador</button>`;
  }

  let asc = true;
  function ordenar(col){
    const tbody = document.querySelector("tbody");
    const rows = Array.from(tbody.rows);
    rows.sort((a,b)=> asc
      ? a.cells[col].innerText.localeCompare(b.cells[col].innerText)
      : b.cells[col].innerText.localeCompare(a.cells[col].innerText)
    );
    asc = !asc;
    rows.forEach(r=>tbody.appendChild(r));
  }

  function ordenarData(col){
    const tbody = document.querySelector("tbody");
    const rows = Array.from(tbody.rows);
    rows.sort((a,b)=>{
      const da = a.cells[col].innerText.split('/').reverse().join('');
      const db = b.cells[col].innerText.split('/').reverse().join('');
      return asc ? da.localeCompare(db) : db.localeCompare(da);
    });
    asc = !asc;
    rows.forEach(r=>tbody.appendChild(r));
  }
</script>

</body>
</html>
