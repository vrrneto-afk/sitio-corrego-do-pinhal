<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>S√≠tio C√≥rrego do Pinhal</title>

  <style>
    /* CORES EXTRA√çDAS DO SEU C√ìDIGO */
    :root {
      --marrom: #7b3f2a;
      --bege: #f6efe7;
      --verde: #2f6b2f;
      --verde-claro: #e6f1e6;
      --cinza: #666;
    }

    * {
      box-sizing: border-box;
      font-family: Arial, Helvetica, sans-serif;
    }

    body {
      margin: 0;
      background: var(--bege);
      color: #333;
    }

    /* HEADER COM LOGO.PNG */
    header {
      position: relative;
      background: url("logo.png") center / cover no-repeat;
      height: 160px;
    }

    nav {
      position: absolute;
      bottom: 0;
      width: 100%;
      background: var(--marrom);
      display: flex;
      justify-content: center;
      gap: 20px;
      padding: 10px 0;
      flex-wrap: wrap;
    }

    nav a {
      color: #fff;
      text-decoration: none;
      font-weight: bold;
      font-size: 14px;
      cursor: pointer;
    }

    nav a:hover {
      text-decoration: underline;
    }

    /* CONTAINER E CARDS */
    .container {
      max-width: 900px;
      margin: 20px auto;
      padding: 0 15px;
    }

    h2 {
      margin-top: 30px;
      margin-bottom: 15px;
      color: var(--marrom);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .card {
      background: #fff;
      border-radius: 10px;
      padding: 15px;
      margin-bottom: 15px;
      border-left: 6px solid var(--verde);
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
    }

    .card strong { font-size: 16px; display: block; margin-bottom: 5px; }
    .card p { margin: 4px 0; color: var(--cinza); font-size: 14px; }
    .highlight { color: var(--verde); font-weight: bold; }

    #loading { text-align: center; padding: 50px; font-style: italic; color: var(--marrom); }

    /* ESTILO DE TABELA PARA TELAS DE LISTAGEM */
    table { width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; }
    th { background: var(--marrom); color: white; padding: 12px; text-align: left; }
    td { padding: 12px; border-bottom: 1px solid #eee; }
    .btn-add { background: var(--verde); color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin-bottom: 15px; font-weight: bold; }
  </style>
</head>
<body>

  <header>
    <nav>
      <a onclick="showTela('inicio')">In√≠cio</a>
      <a onclick="showTela('vacas')">Vacas</a>
      <a onclick="showTela('historico')">Hist√≥rico</a>
      <a onclick="showTela('bezerros')">Bezerros</a>
      <a onclick="showTela('vacinas')">Vacinas</a>
      <a onclick="showTela('animais')">Animais</a>
      <a onclick="showTela('crias')">Crias</a>
    </nav>
  </header>

  <div class="container" id="conteudo">
    <div id="loading">Sincronizando com a Tabela-M√£e do S√≠tio...</div>
  </div>

  <script>
    const URL_MOTOR = "https://script.google.com/macros/s/AKfycbxizkZt7pvNE-otYQe0sqtjYBUx3iI8QA13Di6Cv4hq2YgaosafGzYx2XBf71CxK0QzfQ/exec";
    let dadosGlobais = {};

    async function buscarDados() {
      try {
        const response = await fetch(URL_MOTOR);
        dadosGlobais = await response.json();
        showTela('inicio');
      } catch (error) {
        document.getElementById('conteudo').innerHTML = "Erro ao carregar dados da planilha.";
      }
    }

    function showTela(tela) {
      const container = document.getElementById('conteudo');
      
      if (tela === 'inicio') {
        container.innerHTML = `
          <h2>üêÑ Vacas a Criar</h2>
          <div id="lista-crias">Carregando previs√µes...</div>
          
          <h2>üíâ Vacinas Pr√≥ximas</h2>
          <div id="lista-vacinas">Carregando alertas...</div>
        `;
        renderDashboard();
      } 
      else if (tela === 'vacas') {
        renderListaAnimais('Vaca');
      }
      else {
        container.innerHTML = `<h2>${tela.toUpperCase()}</h2><p>Esta tela est√° sendo integrada aos dados da sua planilha.</p>`;
      }
    }

    function renderDashboard() {
      // Exemplo de como os dados da aba EVENTOS e VACINAS ser√£o processados aqui
      const divCrias = document.getElementById('lista-crias');
      divCrias.innerHTML = `
        <div class="card">
          <strong>üêÑ Boneca</strong>
          <p>Previs√£o baseada na aba EVENTOS</p>
          <p class="highlight">‚è≥ Dados autom√°ticos em breve</p>
        </div>
      `;
    }

    function renderListaAnimais(tipo) {
      const animais = dadosGlobais.ANIMAIS || [];
      const filtrados = animais.slice(1).filter(a => a[2] === tipo && a[7] === 'Ativo');
      
      let html = `<h2>${tipo}s Ativas</h2><button class="btn-add">+ Adicionar ${tipo}</button><table><thead><tr><th>Nome</th><th>Ra√ßa</th><th>Status</th></tr></thead><tbody>`;
      
      filtrados.forEach(a => {
        html += `<tr><td><b>${a[1]}</b></td><td>${a[4]}</td><td class="highlight">OK</td></tr>`;
      });
      
      html += "</tbody></table>";
      document.getElementById('conteudo').innerHTML = html;
    }

    buscarDados();
  </script>

</body>
</html>
