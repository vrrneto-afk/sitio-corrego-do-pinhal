<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Sítio Córrego do Pinhal</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --vinho:#7A1E2C;
  --vinho-escuro:#5e1622;
}
body{
  margin:0;
  font-family:Arial,sans-serif;
  background:#fff;
}
header{
  border-bottom:1px solid #ddd;
  padding:10px;
  text-align:center;
}
nav{
  background:var(--vinho);
  display:flex;
  gap:8px;
  justify-content:center;
  flex-wrap:wrap;
  padding:10px;
}
nav button{
  background:transparent;
  border:none;
  color:#fff;
  padding:8px 14px;
  cursor:pointer;
  border-radius:6px;
}
nav button:hover{
  background:var(--vinho-escuro);
}
main{
  padding:15px;
  min-height:60vh;
}
.admin-only{display:none}
body.admin .admin-only{display:inline-block}
footer{
  text-align:center;
  padding:10px;
  font-size:13px;
  color:#555;
}
</style>
</head>

<body>

<header>
  <!-- Logo futuramente -->
  <h2>Sítio Córrego do Pinhal</h2>
</header>

<nav>
  <button onclick="abrir('inicio')">Início</button>
  <button onclick="abrir('vacas')">Vacas</button>
  <button class="admin-only" onclick="abrir('crias')">Crias</button>
  <button onclick="abrir('historico')">Histórico</button>
  <button onclick="abrir('bezerros')">Bezerros</button>
  <button onclick="abrir('vacinas')">Vacinas</button>
  <button onclick="abrir('animais')">Animais</button>
</nav>

<main id="conteudo">
  <!-- subpáginas carregam aqui -->
</main>

<footer>
  <span onclick="login()" style="cursor:pointer">⚙️</span>
</footer>

<script type="module">
/* ===============================
   LOGIN ADM (GLOBAL)
================================ */
function ativarAdmin(){
  document.body.classList.add("admin");
}
function desativarAdmin(){
  document.body.classList.remove("admin");
}
window.login = ()=>{
  const u = prompt("Usuário");
  const s = prompt("Senha");
  if(u==="Venício" && s==="13231525"){
    localStorage.setItem("isAdmin","true");
    ativarAdmin();
    carregarMenu();
    alert("Modo administrador ativo");
  } else {
    alert("Credenciais inválidas");
  }
};
function carregarMenu(){
  // só força re-render visual
}
if(localStorage.getItem("isAdmin")==="true"){
  ativarAdmin();
}

/* ===============================
   NAVEGAÇÃO INTERNA
================================ */
window.abrir = async (pagina)=>{
  const res = await fetch(`pages/${pagina}.html`);
  const html = await res.text();
  document.getElementById("conteudo").innerHTML = html;

  // se a subpágina tiver JS próprio
  const scripts = document.getElementById("conteudo").querySelectorAll("script");
  scripts.forEach(s=>{
    const novo = document.createElement("script");
    if(s.type) novo.type = s.type;
    novo.textContent = s.textContent;
    document.body.appendChild(novo);
    s.remove();
  });
};

/* ===============================
   HELPERS GLOBAIS
================================ */
window.formatarData = (d)=>{
  if(!d) return "";
  return new Date(d).toLocaleDateString("pt-BR");
};

window.diasEntre = (futura)=>{
  const hoje = new Date();
  const d = new Date(futura);
  return Math.ceil((d-hoje)/86400000);
};

/* ===============================
   INICIALIZA
================================ */
abrir("inicio");
</script>

</body>
</html>
