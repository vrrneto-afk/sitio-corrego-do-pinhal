<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Seed CONFIG ‚Äì S√≠tio C√≥rrego do Pinhal</title>

<!-- Fonte -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
body{
  font-family:Inter,system-ui,Arial;
  background:#f6efe7;
  padding:40px;
}
h1{color:#7b3f2a}
button{
  padding:14px 22px;
  font-size:16px;
  border:none;
  border-radius:10px;
  background:#2f6b2f;
  color:#fff;
  font-weight:800;
  cursor:pointer;
}
button:hover{opacity:.9}
pre{
  background:#fff;
  padding:16px;
  border-radius:12px;
  margin-top:20px;
  max-height:400px;
  overflow:auto;
}
</style>
</head>

<body>

<h1>‚öôÔ∏è Seed de Configura√ß√£o Global</h1>
<p>Este arquivo cria toda a cole√ß√£o <strong>/config</strong> com valores padr√£o.</p>

<button onclick="criarConfig()">Criar CONFIG inicial</button>

<pre id="log"></pre>

<script>
/* üî• Firebase */
firebase.initializeApp({
  apiKey: "AIzaSyCW-CuFDrOLO-dteckl_GrPTocmyS-IrzY",
  authDomain: "sitio-corrego-do-pinhal.firebaseapp.com",
  projectId: "sitio-corrego-do-pinhal"
});
const db = firebase.firestore();
const log = msg => document.getElementById("log").innerText += msg + "\n";

/* üöÄ EXECU√á√ÉO */
async function criarConfig(){
  log("Iniciando cria√ß√£o da CONFIG...\n");

  /* ===== GERAL ===== */
  await db.collection("config").doc("geral").set({
    seed:true,
    titulo_app: "S√≠tio C√≥rrego do Pinhal",
    versao: "1.0.0"
  });

  /* ===== CLIMA ===== */
  await db.collection("config").doc("clima").set({
    seed:true,
    latitude: -21.3127,
    longitude: -46.3721,
    cidade: "Jur√©ia",
    regiao: "Monte Belo/MG",
    timezone: "America/Sao_Paulo",
    janela_previsao_minutos: 120,
    limite_chuva_percentual: 30,
    textos:{
      sem_chuva: "Nenhuma previs√£o de chuva nas pr√≥ximas horas.",
      chuva_em: "Chuva come√ßando em"
    }
  });

  /* ===== ESP√âCIES ===== */
  await db.collection("config").doc("especies").set({
    seed:true,
    lista:[
      {id:"Bovino", possui_gestacao:true, gestacao_meses:9},
      {id:"Caprino", possui_gestacao:true, gestacao_meses:5},
      {id:"Ovino", possui_gestacao:true, gestacao_meses:5},
      {id:"Su√≠no", possui_gestacao:true, gestacao_meses:4},
      {id:"Equino", possui_gestacao:true, gestacao_meses:11},
      {id:"Ave-Galinha", possui_incubacao:true, incubacao_dias:21},
      {id:"Ave-Outras", possui_incubacao:true, incubacao_dias:28},
      {id:"C√£o", possui_gestacao:true, gestacao_meses:2},
      {id:"Gato", possui_gestacao:true, gestacao_meses:2}
    ]
  });

  /* ===== VACAS ===== */
  await db.collection("config").doc("vacas").set({
    seed:true,
    idade_minima_meses: 18,
    gestacao_meses: 9,
    prenhez_regras:[
      {dias_min:75, classe:"ok", mensagem:""},
      {dias_min:60, classe:"ok", mensagem:"‚ö†Ô∏è Desmamar vaca"},
      {dias_min:45, classe:"atencao", mensagem:"‚ö†Ô∏è Desmamar vaca"},
      {dias_min:30, classe:"alerta", mensagem:"‚ö†Ô∏è Aten√ß√£o ao parto"},
      {dias_min:15, classe:"alerta", mensagem:"‚ö†Ô∏è Preparar parto"},
      {dias_min:0, classe:"urgente", mensagem:"üö® Urgente ‚Äì Preparar parto"}
    ]
  });

  /* ===== BEZERROS ===== */
  await db.collection("config").doc("bezerros").set({
    seed:true,
    idade_cria_meses: 6,
    idade_bezerro_meses: 12,
    textos:{
      titulo:"Bezerros / Crias",
      vazio:"Nenhum animal encontrado"
    }
  });

  /* ===== FARM√ÅCIA ===== */
  await db.collection("config").doc("farmacia").set({
    seed:true,
    quantidade_minima: 1,
    validade_alerta_dias: 30,
    textos:{
      vencido:"Vencido",
      vence_em:"Vence em",
      sem_estoque:"Sem estoque"
    }
  });

  /* ===== VACINAS ===== */
  await db.collection("config").doc("vacinas").set({
    seed:true,
    status:{
      atrasada:"Atrasada",
      pendente:"Pendente",
      finalizada:"Finalizada"
    },
    prioridades:{
      atrasada:1,
      pendente:2,
      finalizada:3
    }
  });

  /* ===== LEITE ===== */
  await db.collection("config").doc("leite").set({
    seed:true,
    moeda:{locale:"pt-BR", codigo:"BRL"},
    periodos:["mensal","bimestral","trimestral","semestral","anual"],
    textos:{
      producao:"Produ√ß√£o total",
      faturamento:"Faturamento",
      media:"M√©dia por vaca"
    }
  });

  /* ===== DESPESAS ===== */
  await db.collection("config").doc("despesas").set({
    seed:true,
    vencimentos_max:5,
    textos:{
      vence_em:"Vence em",
      atrasada_ha:"Atrasada h√°"
    }
  });

  /* ===== MENU ===== */
  await db.collection("config").doc("menu").set({
    seed:true,
    itens:[
      {id:"inicio", titulo:"In√≠cio", icone:"üè†", ativo:true, ordem:1},
      {id:"animais", titulo:"Animais", icone:"üêæ", ativo:true, ordem:2},
      {id:"vacas", titulo:"Vacas", icone:"üêÑ", ativo:true, ordem:3},
      {id:"bezerros", titulo:"Bezerros", icone:"üêÆ", ativo:true, ordem:4},
      {id:"historico", titulo:"Hist√≥rico", icone:"üìú", ativo:true, ordem:5},
      {id:"farmacia", titulo:"Farm√°cia", icone:"üíä", ativo:true, ordem:6},
      {id:"vacinas", titulo:"Vacinas", icone:"üíâ", ativo:true, ordem:7},
      {id:"leite", titulo:"Leite", icone:"ü•õ", ativo:true, ordem:8},
      {id:"despesas", titulo:"Despesas", icone:"üí∞", ativo:true, ordem:9},
      {id:"relatorios", titulo:"Relat√≥rios", icone:"üìä", ativo:true, ordem:10}
    ]
  });

  log("\n‚úÖ CONFIG criada com sucesso!");
}
</script>

</body>
</html>
